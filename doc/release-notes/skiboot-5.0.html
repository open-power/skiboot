
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>skiboot 5.0 &#8212; skiboot 96123f1
 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="skiboot-5.1.0" href="skiboot-5.1.0.html" />
    <link rel="prev" title="skiboot 4.1.1" href="skiboot-4.1.1.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="skiboot-5.1.0.html" title="skiboot-5.1.0"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="skiboot-4.1.1.html" title="skiboot 4.1.1"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">skiboot 96123f1
 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Release Notes</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="skiboot-5-0">
<span id="id1"></span><h1>skiboot 5.0<a class="headerlink" href="#skiboot-5-0" title="Permalink to this headline">¶</a></h1>
<p>Skiboot 5.0 was released Friday 10th April 2015.</p>
<p>Changes in 5.0 (since rc3):</p>
<blockquote>
<div><ul class="simple">
<li>Fix chip id for nx coprocessors.</li>
<li>hw/ipmi: Fix FW Boot Progress sensor</li>
<li>bt: Add a temporary workaround for bmc dropping messages</li>
<li>FSP/CUPD: Fix lock issue</li>
</ul>
</div></blockquote>
<p>Changes in rc3 (since rc2):</p>
<blockquote>
<div><ul class="simple">
<li>add support for cec_power_down on mambo</li>
<li>external/opal-prd: Use link register for cross-endian branch</li>
<li>opal header file rework, Linux and skiboot now very closely match (API
in opal-api.h)</li>
<li>libflash: don’t use the low level interface if it doesn’t exist</li>
<li>libflash/file: add file abstraction for libflash</li>
<li>external: create a GUARD partition parsing utility</li>
</ul>
</div></blockquote>
<p>Changes in rc2 (since rc1):</p>
<blockquote>
<div><ul class="simple">
<li>opal: Fix an issue where partial LID load causes opal to hang.</li>
<li>nx: use proc_gen instead of param</li>
<li>use chip id for NX engine Coproc Instance num</li>
<li>Fix (hopefully) missing dot symbols in skiboot.map</li>
<li>exceptions: Catch exceptions at boot time</li>
<li>exceptions: Remove deprecated exception patching stuff</li>
<li>mambo: Make mambo_utils.tcl optional</li>
<li>mambo: Exit mambo when the simulation is stopped</li>
<li>add NX register defines</li>
<li>set NX crb input queues to 842 only</li>
<li>core: Catch attempts to branch through a NULL pointer</li>
<li>plat/firestone: Add missing platform hooks</li>
<li>plat/firestone: Add missing platform hooks</li>
<li>elog: Don’t call uninitialized platform elog_commit</li>
<li>external/opal-prd: Use “official” switch-endian syscall</li>
<li>hw/ipmi: Rework sensors and fix boot count sensor</li>
</ul>
</div></blockquote>
<p>Changes in rc1 (since 4.1.1):</p>
<p>General:</p>
<blockquote>
<div><ul>
<li><p class="first">big OPAL API documentation updates
We now document around 19 OPAL calls. There’s still ~100 left to doc
though :)</p>
</li>
<li><p class="first">skiboot can load FreeBSD kernel payload (thanks to Nathan Whitehorn)</p>
</li>
<li><p class="first">You can now run sparse by setting C=1 when building</p>
</li>
<li><p class="first">PSI: Revert the timeout for PSI link recovery to architected value
now 30mins (prev 15)</p>
</li>
<li><p class="first">cpuidle: Add validated metrics for idle states</p>
</li>
<li><p class="first">core/flash: Add flash API
OPAL_FLASH_(READ|WRITE|ERASE)</p>
</li>
<li><p class="first">capi: Dynamically calculate which CAPP port to use
no longer hardwired to PHB0</p>
</li>
<li><p class="first">vpd: Use slca parent-child relationship to create vpd tree</p>
</li>
<li><p class="first">opal: Do not overwrite same HMI event for multiple HMI errors.
Now Linux will get a HMI event for each HMI error</p>
</li>
<li><p class="first">HMI event v2 now includes information about checkstop</p>
</li>
<li><p class="first">HMI improvements, handle more conditions gracefully:</p>
<ul class="simple">
<li>TB residue error</li>
<li>TFMR firmware control error</li>
<li>TFMR parity</li>
<li>TFMR HDEC parity error</li>
<li>TFMR DEC parity error</li>
<li>TFMR SPURR/PURR parity error</li>
<li>TB residue and HDEC parity HMI errors on split core</li>
</ul>
</li>
<li><p class="first">hostservices: Cache lids prior to first load request</p>
</li>
<li><p class="first">Warn when pollers are called with a lock held
and keep track of lock depth.</p>
<p><strong>NOTE:</strong> This means we will get backtraces in skiboot msglog on FSP machines
This is a KNOWN ISSUE and is largely harmless.
There’s still a couple that we haven’t yet cleaned, these
messages can be thought of as a TODO list for developers.</p>
</li>
<li><p class="first">Don’t run pollers in time_wait if lock held</p>
</li>
<li><p class="first">pci: Don’t hang if we have only one CPU</p>
</li>
<li><p class="first">Detect recursive poller entry</p>
</li>
<li><p class="first">General cleanup</p>
</li>
<li><p class="first">Cleanup of opal.h so that we can have Linux and skiboot match</p>
</li>
<li><p class="first">add sparse annotations to opal.h</p>
</li>
<li><p class="first">Platform hooks for loading and preloading resources (LIDs)
This lays the groundwork for cutting 4-20 seconds off boot in a
future skiboot release.</p>
</li>
<li><p class="first">Fix potential race when clearing OCC interrupt status</p>
</li>
<li><p class="first">Add platform operation for reading sensors</p>
<ul class="simple">
<li>add support to read core and memory buffer temperatures</li>
</ul>
</li>
</ul>
</div></blockquote>
<p>Mambo/POWER8 Functional Simulator:</p>
<blockquote>
<div><ul class="simple">
<li>Replace is_mambo_chip() with a better quirks mechanism.</li>
<li>Don’t hang if we only have one CPU and PCI.</li>
</ul>
</div></blockquote>
<p>BMC systems:</p>
<blockquote>
<div><ul class="simple">
<li>BMC can load payload from flash</li>
<li>IPMI on BMC systems: graceful poweroff and reboot</li>
<li>IPMI on BMC systems: watchdog timer support</li>
<li>IPMI on BMC systems: PNOR locking</li>
<li>Support for IPMI progress sensor</li>
<li>IPMI boot count sensor</li>
<li>capi: Rework microcode flash download and CAPP upload
load microcode on non-fsp systems</li>
<li>NEW opal-prd userspace tool that handles PRD on non-FSP systems.
and OPAL PRD calls to support it.</li>
<li>Improvements to opal-prd, libflash, and ipmi</li>
<li>ECC support in libflash</li>
<li>Load CAPI micro code, enabling CAPI on OpenPower systems.</li>
<li>Dynamically calculate which CAPP port to use, don’t hardcode to PHB0</li>
<li>memboot flash backend</li>
</ul>
</div></blockquote>
<p>POWER8</p>
<blockquote>
<div><ul class="simple">
<li>add nx-842 coproc support</li>
</ul>
</div></blockquote>
<p>FSP systems:</p>
<blockquote>
<div><ul class="simple">
<li>Make abort() update sp attn area (like assert does)
On FSP systems this gives better error logs/dumps when abort() is hit</li>
<li>FSP/LEDS: Many improvements and bug fixes</li>
<li>LED support for FSP machines
Adds OPAL_LEDS_(GET|SET)_INDICATOR and device-tree bindings</li>
<li>Refactor of fsp-rtc</li>
<li>OCC loading fixes, including possible race condition where we would
fail to IPL.</li>
</ul>
</div></blockquote>
<p>POWER7</p>
<blockquote>
<div><ul class="simple">
<li>Fix unsupported return code of OPAL_(UN)REGISTER_DUMP_REGION on P7</li>
<li>occ: Don’t do bad XSCOMs on P7
The OCC interrupt register only exists on P8, accessing it on P7 causes
not only error logs but also causes PRD to eventually gard chips.</li>
<li>cpu: Handle opal_reinit_cpus() more gracefully on P7
no longer generate error logs</li>
<li>libflash updates for openpower</li>
<li>misc code cleanup</li>
<li>add nx-842 coproc support</li>
</ul>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="skiboot-4.1.1.html"
                        title="previous chapter">skiboot 4.1.1</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="skiboot-5.1.0.html"
                        title="next chapter">skiboot-5.1.0</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/release-notes/skiboot-5.0.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="skiboot-5.1.0.html" title="skiboot-5.1.0"
             >next</a> |</li>
        <li class="right" >
          <a href="skiboot-4.1.1.html" title="skiboot 4.1.1"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">skiboot 96123f1
 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Release Notes</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2017, IBM, others.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>