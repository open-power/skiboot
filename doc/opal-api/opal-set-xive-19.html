<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>OPAL_SET_XIVE &#8212; skiboot 2ce4017
 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=514cf933" />
    
    <script src="../_static/documentation_options.js?v=e6376a65"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OPAL_SIGNAL_SYSTEM_RESET" href="opal-signal-system-reset-145.html" />
    <link rel="prev" title="OPAL_SENSOR_READ" href="opal-sensor-read-88.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="opal-signal-system-reset-145.html" title="OPAL_SIGNAL_SYSTEM_RESET"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="opal-sensor-read-88.html" title="OPAL_SENSOR_READ"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">skiboot 2ce4017
 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">OPAL API Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OPAL_SET_XIVE</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="opal-set-xive">
<span id="id1"></span><h1>OPAL_SET_XIVE<a class="headerlink" href="#opal-set-xive" title="Link to this heading">¶</a></h1>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define OPAL_SET_XIVE                                19</span>

<span class="kt">int64_t</span><span class="w"> </span><span class="nf">opal_set_xive</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">isn</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">priority</span><span class="p">);</span>
</pre></div>
</div>
<p>The host calls this function to set the server (target processor)
and priority parameters of an interrupt source.</p>
<p>This can be also used to mask or unmask the interrupt (by changing
the priority to 0xff one masks an interrupt).</p>
<p>WARNINGS:</p>
<blockquote>
<div><ul class="simple">
<li><p>For MSIs or generally edge sensitive interrupts, OPAL provides no
guarantee as to whether the interrupt will be latched if it occurs
while masked and replayed on unmask. It may or may not. The OS needs
to be aware of this. The current implementation will <em>not</em> replay,
neither on P8 nor on P9 XICS emulation.</p></li>
<li><p>When masking, there is no guarantee that the interrupt will not
still occur after this call returns. The reason is that it might
already be on its way past the source controller and latched into one
of the presenters. There is however a guarantee that it won’t replay
indefinitely so it’s acceptable for the OS to simply ignore it.</p></li>
</ul>
</div></blockquote>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">isn</span></code></dt><dd><p>This is a global interrupt number as obtained from the device-tree
“interrupts” or “interrupt-map” properties.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">server_number</span></code></dt><dd><p>is the mangled server (processor) that is to receive the
interrupt request. The mangling means that the actual processor
number is shifted left by 2 bits, the bottom bits representing
the “link”. However links aren’t supported in OPAL so the bottom
2 bits should be 0.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">priority</span></code></dt><dd><p>is the interrupt priority value applied to the interrupt
(0=highest, 0xFF = lowest/disabled).</p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">OPAL_SET_XIVE</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="opal-sensor-read-88.html"
                          title="previous chapter">OPAL_SENSOR_READ</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="opal-signal-system-reset-145.html"
                          title="next chapter">OPAL_SIGNAL_SYSTEM_RESET</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/opal-api/opal-set-xive-19.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="opal-signal-system-reset-145.html" title="OPAL_SIGNAL_SYSTEM_RESET"
             >next</a> |</li>
        <li class="right" >
          <a href="opal-sensor-read-88.html" title="OPAL_SENSOR_READ"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">skiboot 2ce4017
 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >OPAL API Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OPAL_SET_XIVE</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2016-2017, IBM, others.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>