
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>VPD (Vital Product Data) &#8212; skiboot 326a466
 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ibm,powerpc-cpu-features Binding" href="ibm%2Cpowerpc-cpu-features/binding.html" />
    <link rel="prev" title="Virtual Accelerator Switchboard (VAS)" href="vas.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ibm%2Cpowerpc-cpu-features/binding.html" title="ibm,powerpc-cpu-features Binding"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="vas.html" title="Virtual Accelerator Switchboard (VAS)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">skiboot 326a466
 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Device Tree</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">VPD (Vital Product Data)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="vpd-vital-product-data">
<h1>VPD (Vital Product Data)<a class="headerlink" href="#vpd-vital-product-data" title="Permalink to this headline">Â¶</a></h1>
<p>VPD provides the information about the FRUs (Field Replaceable Unit) present in
the system and each vpd node in the device tree represents a FRU. These
properties are passed to skiboot in the form of HDAT structure. Skiboot parses
these structures and adds respective nodes in the device tree. These properties
are available in all system except POWER8 BMC based system.</p>
<div class="highlight-dts notranslate"><div class="highlight"><pre><span></span><span class="nc">vpd</span> <span class="p">{</span>                     <span class="cm">/* VPD root node */</span>
  <span class="nc">fru-name</span><span class="nf">@rsrc-id</span> <span class="p">{</span>      <span class="cm">/* Node name formatted as such */</span>
  <span class="nf">ibm,vpd</span> <span class="o">=</span> <span class="p">&lt;</span>             <span class="cm">/* VPD data binary blob */</span> <span class="p">&gt;;</span>
    <span class="nf">ccin</span> <span class="o">=</span> <span class="s">&quot;524D&quot;</span><span class="p">;</span>        <span class="cm">/* Customer Card Identification Number */</span>
    <span class="nf">fru-type</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">41</span> <span class="mi">56</span> <span class="p">];</span> <span class="cm">/* FRU type label (2 bytes ASCII character) */</span>
    <span class="nf">fru-number</span>    <span class="o">=</span>       <span class="s">&quot;FRU stocking part number&quot;</span><span class="p">;</span>
    <span class="nf">ibm,loc-code</span>  <span class="o">=</span>       <span class="s">&quot;Location code&quot;</span><span class="p">;</span>
    <span class="nf">part-number</span>   <span class="o">=</span>       <span class="s">&quot;ABC123456&quot;</span><span class="p">;</span>
    <span class="nf">serial-number</span> <span class="o">=</span>       <span class="s">&quot;ABC123456&quot;</span><span class="p">;</span>
    <span class="nf">ibm,chip-id</span>   <span class="o">=</span> <span class="p">&lt;</span><span class="mh">0x0</span><span class="p">&gt;;</span> <span class="cm">/* If part is a chip, Processor Id */</span>
    <span class="nf">size</span> <span class="o">=</span> <span class="s">&quot;0032768&quot;</span><span class="p">;</span>      <span class="cm">/* DIMM size (applicable for DIMM VPD only) */</span>
    <span class="nf">ibm,memory-bus-frequency</span> <span class="o">=</span> <span class="p">&lt;</span><span class="mh">0x0</span> <span class="mh">0x0</span><span class="p">&gt;;</span> <span class="cm">/* DIMM frequency (applicable for DIMM VPD only) */</span>
    <span class="nf">vendor</span> <span class="o">=</span> <span class="p">&lt;</span><span class="err">vendor</span> <span class="err">name</span><span class="p">&gt;</span> <span class="cm">/* Vendor name */</span>
    <span class="err">build-date</span> <span class="err">=</span> <span class="p">&lt;</span><span class="err">build</span> <span class="err">date</span><span class="p">&gt;</span> <span class="cm">/* Manufacturing build date (applicate for P9 BMC systems only) */</span>
  <span class="err">}</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The VPD tree in the device tree depicts the hierarchial structure of the
FRUs having parent-child relationship.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>root-node-vpd@a000
   |-- enclosure@1e00
   |   |-- air-mover@3a00
   |   |-- air-mover@3a01
   |   |-- backplane@800
   |   |   |-- anchor-card@500
   |   |   |-- backplane-extender@900
   |   |   |   |-- serial-connector@2a00
   |   |   |   |-- usb-connector@2900
   |   |   |   `-- usb-connector@2901
   |   |   |-- ethernet-connector@2800
   |   |   |-- ethernet-connector@2801
   |   |   |-- ms-dimm@d002
   |   |   |-- ms-dimm@d003
   |   |   |-- processor@1000
   |   |   |-- processor@1001
   |   |   |-- usb-connector@2902
   |   |   |-- usb-connector@2903
   |   |   |-- usb-connector@2904
   |   |   `-- usb-connector@2905
   |   |-- dasd-backplane@2400
   |   |-- dasd-backplane@2401
   |   |-- power-supply@3103
   |   `-- service-processor@200
   |-- enclosure-fault-led@a300
   |-- enclosure-led@a200
   |-- root-node-vpd@a001
   `-- system-vpd@1c00
</pre></div>
</div>
<p>Example vpd node:</p>
<div class="highlight-dts notranslate"><div class="highlight"><pre><span></span><span class="nc">anchor-card</span><span class="nf">@500</span> <span class="p">{</span>
       <span class="nf">ccin</span> <span class="o">=</span> <span class="s">&quot;52FE&quot;</span><span class="p">;</span>
       <span class="nf">fru-number</span> <span class="o">=</span> <span class="s">&quot;00E2147&quot;</span><span class="p">;</span>
       <span class="nf">description</span> <span class="o">=</span> <span class="s">&quot;System Anchor Card - IBM Power 824&quot;</span><span class="p">;</span>
       <span class="nf">ibm,loc-code</span> <span class="o">=</span> <span class="s">&quot;U78C9.001.WZS007X-P1-C13&quot;</span><span class="p">;</span>
       <span class="nf">serial-number</span> <span class="o">=</span> <span class="s">&quot;YL10113BJ001&quot;</span><span class="p">;</span>
       <span class="nf">ibm,vpd</span> <span class="o">=</span> <span class="p">&lt;</span><span class="mh">0x84cc0052</span> <span class="mh">0x54045649</span> <span class="mh">0x4e494452</span> <span class="mh">0x10414e43</span> <span class="mh">0x484f5220</span> <span class="mh">0x20202020</span> <span class="mh">0x20202020</span> <span class="mh">0x20434501</span> <span class="mh">0x31565a02</span> <span class="mh">0x3031464e</span> <span class="mh">0x7303045</span> <span class="mh">0x32313437</span> <span class="mh">0x504e0730</span> <span class="mh">0x30453231</span> <span class="mh">0x3438534e</span> <span class="mh">0xc594c31</span> <span class="mh">0x30313133</span> <span class="mh">0x424a3030</span> <span class="mh">0x31434304</span> <span class="mh">0x35324645</span> <span class="mh">0x50520881</span> <span class="mh">0x300000</span> <span class="mh">0x48</span> <span class="mh">0x45043030</span> <span class="mh">0x31304354</span> <span class="mh">0x440b400</span> <span class="mh">0x485702</span> <span class="mh">0x14233</span> <span class="mh">0x6000000</span> <span class="mh">0x142</span> <span class="mh">0x34010042</span> <span class="mh">0x370c0000</span> <span class="mh">0x0</span> <span class="mh">0x0</span> <span class="mh">0x4239</span> <span class="mh">0x3c435333</span> <span class="mh">0x22071917</span> <span class="mh">0xd1569c53</span> <span class="mh">0x50973c87</span> <span class="mh">0x71f9c40</span> <span class="mh">0x1d4d3142</span> <span class="mh">0x985e80f1</span> <span class="mh">0x5cb3614d</span> <span class="mh">0x32a902cb</span> <span class="mh">0xd9d714ab</span> <span class="mh">0x164d3322</span> <span class="mh">0xdda4f986</span> <span class="mh">0x5a618f4d</span> <span class="mh">0x340b157c</span> <span class="mh">0x2cac0a94</span> <span class="mh">0x6504603</span> <span class="mh">0x78</span> <span class="mh">0x0</span><span class="p">&gt;;</span>
       <span class="nf">fru-type</span> <span class="o">=</span> <span class="p">[</span><span class="mi">41</span> <span class="mi">56</span><span class="p">];</span>
       <span class="nf">part-number</span> <span class="o">=</span> <span class="s">&quot;00E2148&quot;</span><span class="p">;</span>
       <span class="nf">phandle</span> <span class="o">=</span> <span class="p">&lt;</span><span class="mh">0x8d</span><span class="p">&gt;;</span>
       <span class="nf">linux,phandle</span> <span class="o">=</span> <span class="p">&lt;</span><span class="mh">0x8d</span><span class="p">&gt;;</span>
<span class="p">};</span>
</pre></div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="vas.html"
                        title="previous chapter">Virtual Accelerator Switchboard (VAS)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ibm%2Cpowerpc-cpu-features/binding.html"
                        title="next chapter">ibm,powerpc-cpu-features Binding</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/device-tree/vpd.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ibm%2Cpowerpc-cpu-features/binding.html" title="ibm,powerpc-cpu-features Binding"
             >next</a> |</li>
        <li class="right" >
          <a href="vas.html" title="Virtual Accelerator Switchboard (VAS)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">skiboot 326a466
 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Device Tree</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">VPD (Vital Product Data)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2017, IBM, others.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>